fragment resultFields on SearchResult {
  name
  type
  startPreviewLineNumber
  startPreviewContent
  endPreviewLineNumber
  endPreviewContent
}

query search($query: String!, $projects: [ObjectId!], $repositories: [ObjectId!], $perpage: Int!, $page: Int!) {
  search(query: $query, projects: $projects, repositories: $repositories, perpage: $perpage, page: $page) {
    _id
    name
    path
    location {
      owner
      repository
      image
    }
    language {
      name
      color
    }
    lines {
      start
      end
    }
    results {
      ...resultFields
    }
  }
}
